{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nick/Downloads/study-plan-generator/app/api/generate-plan/route.ts"],"sourcesContent":["import { generateObject } from \"ai\"\nimport { google } from \"@ai-sdk/google\"\nimport { z } from \"zod\"\n\nconst studyPlanSchema = z.object({\n  title: z.string(),\n  difficulty: z.enum([\"beginner\", \"intermediate\", \"advanced\"]),\n  timePerWeek: z.number(),\n  format: z.enum([\"theory-heavy\", \"project-heavy\", \"balanced\"]),\n  prerequisites: z.array(\n    z.object({\n      id: z.string(),\n      title: z.string(),\n      description: z.string().optional(),\n      duration: z.string().optional(),\n    }),\n  ),\n  coreTopics: z.array(\n    z.object({\n      id: z.string(),\n      title: z.string(),\n      description: z.string().optional(),\n      duration: z.string().optional(),\n    }),\n  ),\n  progressSteps: z.array(\n    z.object({\n      week: z.number(),\n      topics: z.array(z.string()),\n      milestones: z.array(z.string()),\n    }),\n  ),\n  resources: z.array(\n    z.object({\n      title: z.string(),\n      type: z.enum([\"book\", \"course\", \"article\", \"video\", \"project\"]),\n      url: z.string().optional(),\n    }),\n  ),\n  timeline: z.string(),\n  estimatedDuration: z.string(),\n  tips: z.array(z.string()),\n})\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n    const { topic, difficulty, timePerWeek, format } = body\n\n    if (!topic) {\n      return Response.json({ error: \"Topic is required\" }, { status: 400 })\n    }\n\n    console.log(\"[v0] Generating plan for:\", topic)\n\n    const { object } = await generateObject({\n      model: google(\"gemini-2.5-flash\"),\n      schema: studyPlanSchema,\n      system: `You are an expert educational curriculum designer. Generate a comprehensive, well-structured study plan in JSON format.\n      \n      The plan must include:\n      - Prerequisites (what learners should know first)\n      - Core topics (main subjects to master)\n      - Progress steps (week-by-week breakdown)\n      - Resources (recommended books, courses, videos, projects)\n      - Realistic timeline and estimated duration\n      - Practical tips for success\n      \n      Format the response as valid JSON only. No markdown, no explanations, just JSON.`,\n      prompt: `Create a detailed study plan for: \"${topic}\"\n      \n      Difficulty Level: ${difficulty}\n      Available Time: ${timePerWeek} hours per week\n      Learning Format: ${format}\n      \n      Generate a realistic, actionable study plan tailored to these parameters. Ensure topics are logically ordered and milestones are measurable.`,\n    })\n\n    return Response.json(object)\n  } catch (error) {\n    console.error(\"[v0] Error generating plan:\", error)\n    return Response.json({ error: \"Failed to generate study plan\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,kBAAkB,yKAAC,CAAC,MAAM,CAAC;IAC/B,OAAO,yKAAC,CAAC,MAAM;IACf,YAAY,yKAAC,CAAC,IAAI,CAAC;QAAC;QAAY;QAAgB;KAAW;IAC3D,aAAa,yKAAC,CAAC,MAAM;IACrB,QAAQ,yKAAC,CAAC,IAAI,CAAC;QAAC;QAAgB;QAAiB;KAAW;IAC5D,eAAe,yKAAC,CAAC,KAAK,CACpB,yKAAC,CAAC,MAAM,CAAC;QACP,IAAI,yKAAC,CAAC,MAAM;QACZ,OAAO,yKAAC,CAAC,MAAM;QACf,aAAa,yKAAC,CAAC,MAAM,GAAG,QAAQ;QAChC,UAAU,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B;IAEF,YAAY,yKAAC,CAAC,KAAK,CACjB,yKAAC,CAAC,MAAM,CAAC;QACP,IAAI,yKAAC,CAAC,MAAM;QACZ,OAAO,yKAAC,CAAC,MAAM;QACf,aAAa,yKAAC,CAAC,MAAM,GAAG,QAAQ;QAChC,UAAU,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B;IAEF,eAAe,yKAAC,CAAC,KAAK,CACpB,yKAAC,CAAC,MAAM,CAAC;QACP,MAAM,yKAAC,CAAC,MAAM;QACd,QAAQ,yKAAC,CAAC,KAAK,CAAC,yKAAC,CAAC,MAAM;QACxB,YAAY,yKAAC,CAAC,KAAK,CAAC,yKAAC,CAAC,MAAM;IAC9B;IAEF,WAAW,yKAAC,CAAC,KAAK,CAChB,yKAAC,CAAC,MAAM,CAAC;QACP,OAAO,yKAAC,CAAC,MAAM;QACf,MAAM,yKAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAW;YAAS;SAAU;QAC9D,KAAK,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B;IAEF,UAAU,yKAAC,CAAC,MAAM;IAClB,mBAAmB,yKAAC,CAAC,MAAM;IAC3B,MAAM,yKAAC,CAAC,KAAK,CAAC,yKAAC,CAAC,MAAM;AACxB;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG;QAEnD,IAAI,CAAC,OAAO;YACV,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACrE;QAEA,QAAQ,GAAG,CAAC,6BAA6B;QAEzC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,wKAAc,EAAC;YACtC,OAAO,IAAA,mKAAM,EAAC;YACd,QAAQ;YACR,QAAQ,CAAC;;;;;;;;;;sFAUuE,CAAC;YACjF,QAAQ,CAAC,mCAAmC,EAAE,MAAM;;wBAElC,EAAE,WAAW;sBACf,EAAE,YAAY;uBACb,EAAE,OAAO;;kJAEkH,CAAC;QAC/I;QAEA,OAAO,SAAS,IAAI,CAAC;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAgC,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}