{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nick/Downloads/study-plan-generator/app/api/generate-plan/route.ts"],"sourcesContent":["import { generateObject } from \"ai\"\nimport { google } from \"@ai-sdk/google\"\nimport { z } from \"zod\"\n\nconst studyPlanSchema = z.object({\n  title: z.string(),\n  difficulty: z.enum([\"beginner\", \"intermediate\", \"advanced\"]),\n  timePerWeek: z.number(),\n  timeUnit: z.enum([\"hours\", \"days\", \"weeks\", \"months\"]),\n  format: z.enum([\"theory-heavy\", \"project-heavy\", \"balanced\"]),\n  prerequisites: z.array(\n    z.object({\n      id: z.string(),\n      title: z.string(),\n      description: z.string().optional(),\n      duration: z.string().optional(),\n    }),\n  ),\n  coreTopics: z.array(\n    z.object({\n      id: z.string(),\n      title: z.string(),\n      description: z.string().optional(),\n      duration: z.string().optional(),\n    }),\n  ),\n  progressSteps: z.array(\n    z.object({\n      week: z.number(),\n      topics: z.array(z.string()),\n      milestones: z.array(z.string()),\n    }),\n  ),\n  resources: z.array(\n    z.object({\n      title: z.string(),\n      type: z.enum([\"book\", \"course\", \"article\", \"video\", \"project\"]),\n      url: z.string().optional(),\n    }),\n  ),\n  timeline: z.string(),\n  estimatedDuration: z.string(),\n  tips: z.array(z.string()),\n})\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n    const { topic, difficulty, timePerWeek, timeUnit = \"hours\", format } = body\n\n    if (!topic) {\n      return Response.json({ error: \"Topic is required\" }, { status: 400 })\n    }\n\n    console.log(\"[v0] Generating plan for:\", topic, \"with\", timePerWeek, timeUnit, \"per week\")\n\n    const { object } = await generateObject({\n      model: google(\"gemini-2.5-flash\"),\n      schema: studyPlanSchema,\n      system: `You are an expert educational curriculum designer. Generate a comprehensive, well-structured study plan in JSON format.\n      \n      The plan must include:\n      - Prerequisites (what learners should know first)\n      - Core topics (main subjects to master)\n      - Progress steps (week-by-week breakdown)\n      - Resources (recommended books, courses, videos, projects)\n      - Realistic timeline and estimated duration\n      - Practical tips for success\n      \n      Format the response as valid JSON only. No markdown, no explanations, just JSON.`,\n      prompt: `Create a detailed study plan for: \"${topic}\"\n      \n      Difficulty Level: ${difficulty}\n      Available Time: ${timePerWeek} ${timeUnit} per week\n      Learning Format: ${format}\n      \n      IMPORTANT: Adjust the timeline and pacing based on the time unit provided:\n      - If timeUnit is \"hours\": Schedule around ${timePerWeek} hours per week\n      - If timeUnit is \"days\": Schedule around ${timePerWeek} days per week (full days)\n      - If timeUnit is \"weeks\": Schedule the full week (${timePerWeek} weeks per week means intensive study)\n      - If timeUnit is \"months\": Schedule long-term learning spanning multiple months\n      \n      Generate a realistic, actionable study plan tailored to these parameters. Ensure topics are logically ordered and milestones are measurable. Include timeUnit: \"${timeUnit}\" in the response.`,\n    })\n\n    return Response.json(object)\n  } catch (error) {\n    console.error(\"[v0] Error generating plan:\", error)\n    return Response.json({ error: \"Failed to generate study plan\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,kBAAkB,2NAAC,CAAC,MAAM,CAAC;IAC/B,OAAO,2NAAC,CAAC,MAAM;IACf,YAAY,2NAAC,CAAC,IAAI,CAAC;QAAC;QAAY;QAAgB;KAAW;IAC3D,aAAa,2NAAC,CAAC,MAAM;IACrB,UAAU,2NAAC,CAAC,IAAI,CAAC;QAAC;QAAS;QAAQ;QAAS;KAAS;IACrD,QAAQ,2NAAC,CAAC,IAAI,CAAC;QAAC;QAAgB;QAAiB;KAAW;IAC5D,eAAe,2NAAC,CAAC,KAAK,CACpB,2NAAC,CAAC,MAAM,CAAC;QACP,IAAI,2NAAC,CAAC,MAAM;QACZ,OAAO,2NAAC,CAAC,MAAM;QACf,aAAa,2NAAC,CAAC,MAAM,GAAG,QAAQ;QAChC,UAAU,2NAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B;IAEF,YAAY,2NAAC,CAAC,KAAK,CACjB,2NAAC,CAAC,MAAM,CAAC;QACP,IAAI,2NAAC,CAAC,MAAM;QACZ,OAAO,2NAAC,CAAC,MAAM;QACf,aAAa,2NAAC,CAAC,MAAM,GAAG,QAAQ;QAChC,UAAU,2NAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B;IAEF,eAAe,2NAAC,CAAC,KAAK,CACpB,2NAAC,CAAC,MAAM,CAAC;QACP,MAAM,2NAAC,CAAC,MAAM;QACd,QAAQ,2NAAC,CAAC,KAAK,CAAC,2NAAC,CAAC,MAAM;QACxB,YAAY,2NAAC,CAAC,KAAK,CAAC,2NAAC,CAAC,MAAM;IAC9B;IAEF,WAAW,2NAAC,CAAC,KAAK,CAChB,2NAAC,CAAC,MAAM,CAAC;QACP,OAAO,2NAAC,CAAC,MAAM;QACf,MAAM,2NAAC,CAAC,IAAI,CAAC;YAAC;YAAQ;YAAU;YAAW;YAAS;SAAU;QAC9D,KAAK,2NAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B;IAEF,UAAU,2NAAC,CAAC,MAAM;IAClB,mBAAmB,2NAAC,CAAC,MAAM;IAC3B,MAAM,2NAAC,CAAC,KAAK,CAAC,2NAAC,CAAC,MAAM;AACxB;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,OAAO,EAAE,MAAM,EAAE,GAAG;QAEvE,IAAI,CAAC,OAAO;YACV,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACrE;QAEA,QAAQ,GAAG,CAAC,6BAA6B,OAAO,QAAQ,aAAa,UAAU;QAE/E,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,6OAAc,EAAC;YACtC,OAAO,IAAA,2PAAM,EAAC;YACd,QAAQ;YACR,QAAQ,CAAC;;;;;;;;;;sFAUuE,CAAC;YACjF,QAAQ,CAAC,mCAAmC,EAAE,MAAM;;wBAElC,EAAE,WAAW;sBACf,EAAE,YAAY,CAAC,EAAE,SAAS;uBACzB,EAAE,OAAO;;;gDAGgB,EAAE,YAAY;+CACf,EAAE,YAAY;wDACL,EAAE,YAAY;;;sKAGgG,EAAE,SAAS,kBAAkB,CAAC;QAChM;QAEA,OAAO,SAAS,IAAI,CAAC;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAgC,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}